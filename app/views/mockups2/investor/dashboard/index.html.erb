<% content_for :title, "Dashboard Investisseur - Sharifund" %>

<div class="max-w-7xl">
  <!-- Welcome Header -->
  <div class="mb-8">
    <h1 class="text-4xl font-bold text-sf-dark mb-2">Bonjour Mohammed <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"/><path d="M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"/><path d="M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8"/><path d="M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"/></svg></h1>
    <p class="text-lg text-gray-600">Découvrez les opportunités d'investissement halal</p>
  </div>

  <!-- Stats Cards -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
    <div class="card bg-white p-6 rounded-lg border border-gray-200">
      <div class="text-4xl mb-3"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></div>
      <div class="text-3xl font-bold text-sf-dark mb-1">8</div>
      <div class="text-sm text-gray-600 mb-3">Projets suivis</div>
      <button class="btn-outline btn-sm w-full">Gérer →</button>
    </div>

    <div class="card bg-white p-6 rounded-lg border border-gray-200">
      <div class="text-4xl mb-3"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" x2="12" y1="2" y2="22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg></div>
      <div class="text-3xl font-bold text-sf-dark mb-1">425K€</div>
      <div class="text-sm text-gray-600 mb-3">Montant simulé</div>
      <div class="text-xs text-gray-600">Sur 8 projets différents</div>
    </div>

    <div class="card bg-white p-6 rounded-lg border border-gray-200">
      <div class="text-4xl mb-3"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg></div>
      <div class="text-3xl font-bold text-sf-dark mb-1">34</div>
      <div class="text-sm text-gray-600 mb-3">Projets disponibles</div>
      <a href="#" class="btn btn-sm bg-sf-gold text-sf-black w-full">Explorer →</a>
    </div>

    <div class="card bg-white p-6 rounded-lg border border-gray-200">
      <div class="text-4xl mb-3"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg></div>
      <div class="text-3xl font-bold text-sf-dark mb-1">5</div>
      <div class="text-sm text-gray-600 mb-3">Nouveaux messages</div>
      <span class="badge badge-error text-xs">2 non lus</span>
    </div>
  </div>

  <!-- Recommended Projects -->
  <section class="mb-8">
    <div class="flex items-center justify-between mb-6">
      <div>
        <h2 class="text-2xl font-bold text-sf-dark mb-1">Projets recommandés pour vous</h2>
        <p class="text-sm text-gray-600">Basés sur vos préférences d'investissement</p>
      </div>
      <button class="btn-ghost">Tout voir →</button>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Recommended Project 1 -->
      <div class="card bg-white rounded-lg border-2 border-sf-gold overflow-hidden">
        <div class="relative">
          <div class="w-full h-40 bg-gradient-to-br from-yellow-200 to-yellow-50 flex items-center justify-center text-5xl">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>
          </div>
          <div class="absolute top-3 right-3">
            <span class="conformite-badge text-xs shadow-lg">
              <span>☪</span>
              <span>92%</span>
            </span>
          </div>
          <div class="absolute top-3 left-3">
            <span class="badge bg-white text-sf-gold text-xs shadow-lg font-bold"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg> Recommandé</span>
          </div>
        </div>
        <div class="p-5">
          <h3 class="font-bold text-sf-dark mb-2">Restaurant halal Paris</h3>
          <div class="flex gap-2 mb-3">
            <span class="badge bg-purple-100 text-purple-800 text-xs">Mudaraba</span>
            <span class="badge bg-orange-100 text-orange-800 text-xs">150K€</span>
          </div>
          <p class="text-sm text-gray-600 mb-4 line-clamp-2">
            Gastronomie française halal certifiée dans le 15ème arrondissement.
          </p>
          <div class="mb-3">
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div class="bg-sf-gold h-2 rounded-full" style="width: 83%"></div>
            </div>
            <p class="text-xs text-gray-600 mt-1">83% financé (125K€)</p>
          </div>
          <a href="#" class="btn btn-sm bg-sf-gold text-sf-black w-full">Voir le projet →</a>
        </div>
      </div>

      <!-- Recommended Project 2 -->
      <div class="card bg-white rounded-lg border border-gray-200 overflow-hidden">
        <div class="relative">
          <div class="w-full h-40 bg-gradient-to-br from-blue-200 to-blue-50 flex items-center justify-center text-5xl">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>
          </div>
          <div class="absolute top-3 right-3">
            <span class="conformite-badge text-xs shadow-lg">
              <span>☪</span>
              <span>95%</span>
            </span>
          </div>
        </div>
        <div class="p-5">
          <h3 class="font-bold text-sf-dark mb-2">Startup Tech Education</h3>
          <div class="flex gap-2 mb-3">
            <span class="badge bg-blue-100 text-blue-800 text-xs">Musharaka</span>
            <span class="badge bg-purple-100 text-purple-800 text-xs">300K€</span>
          </div>
          <p class="text-sm text-gray-600 mb-4 line-clamp-2">
            Plateforme e-learning pour éducation islamique et professionnelle.
          </p>
          <div class="mb-3">
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div class="bg-sf-gold h-2 rounded-full" style="width: 60%"></div>
            </div>
            <p class="text-xs text-gray-600 mt-1">60% financé (180K€)</p>
          </div>
          <a href="#" class="btn btn-sm bg-sf-gold text-sf-black w-full">Voir le projet →</a>
        </div>
      </div>

      <!-- Recommended Project 3 -->
      <div class="card bg-white rounded-lg border border-gray-200 overflow-hidden">
        <div class="relative">
          <div class="w-full h-40 bg-gradient-to-br from-green-200 to-green-50 flex items-center justify-center text-5xl">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
          </div>
          <div class="absolute top-3 right-3">
            <span class="conformite-badge text-xs shadow-lg">
              <span>☪</span>
              <span>88%</span>
            </span>
          </div>
        </div>
        <div class="p-5">
          <h3 class="font-bold text-sf-dark mb-2">Immobilier Nantes</h3>
          <div class="flex gap-2 mb-3">
            <span class="badge bg-green-100 text-green-800 text-xs">Murabaha</span>
            <span class="badge bg-blue-100 text-blue-800 text-xs">500K€</span>
          </div>
          <p class="text-sm text-gray-600 mb-4 line-clamp-2">
            Résidences conformes aux principes islamiques avec espaces communautaires.
          </p>
          <div class="mb-3">
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div class="bg-sf-gold h-2 rounded-full" style="width: 65%"></div>
            </div>
            <p class="text-xs text-gray-600 mt-1">65% financé (325K€)</p>
          </div>
          <a href="#" class="btn btn-sm bg-sf-gold text-sf-black w-full">Voir le projet →</a>
        </div>
      </div>
    </div>
  </section>

  <!-- My Interests Overview -->
  <section>
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl font-bold text-sf-dark">Mes investissements simulés</h2>
      <%= link_to "Voir tout", mockups2_investor_interests_path, class: "btn-ghost" %>
    </div>

    <div class="card bg-white rounded-lg border border-gray-200">
      <div class="overflow-x-auto">
        <table class="table w-full">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-4 text-left text-sm font-semibold text-sf-dark">Projet</th>
              <th class="px-6 py-4 text-left text-sm font-semibold text-sf-dark">Mon engagement</th>
              <th class="px-6 py-4 text-left text-sm font-semibold text-sf-dark">Progression</th>
              <th class="px-6 py-4 text-left text-sm font-semibold text-sf-dark">Statut</th>
              <th class="px-6 py-4 text-center text-sm font-semibold text-sf-dark">Actions</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            <tr class="hover:bg-gray-50">
              <td class="px-6 py-4">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center text-xl"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 2a2 2 0 0 0-2 2v5H4a2 2 0 0 0-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-5h5a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2h-2z"/></svg></div>
                  <div>
                    <div class="font-medium text-sf-dark">Clinique dentaire</div>
                    <div class="text-xs text-gray-600">Murabaha • Santé</div>
                  </div>
                </div>
              </td>
              <td class="px-6 py-4">
                <div class="font-bold text-sf-gold">50 000 €</div>
              </td>
              <td class="px-6 py-4">
                <div class="w-24">
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-sf-gold h-2 rounded-full" style="width: 86%"></div>
                  </div>
                  <p class="text-xs text-gray-600 mt-1">86%</p>
                </div>
              </td>
              <td class="px-6 py-4">
                <span class="badge badge-success text-xs">Actif</span>
              </td>
              <td class="px-6 py-4">
                <div class="flex items-center justify-center gap-2">
                  <button class="btn-icon-outline btn-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>
                    </svg>
                  </a>
                </div>
              </td>
            </tr>

            <tr class="hover:bg-gray-50">
              <td class="px-6 py-4">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-pink-100 flex items-center justify-center text-xl"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></svg></div>
                  <div>
                    <div class="font-medium text-sf-dark">E-commerce mode</div>
                    <div class="text-xs text-gray-600">Mudaraba • Commerce</div>
                  </div>
                </div>
              </td>
              <td class="px-6 py-4">
                <div class="font-bold text-sf-gold">25 000 €</div>
              </td>
              <td class="px-6 py-4">
                <div class="w-24">
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-sf-green h-2 rounded-full" style="width: 100%"></div>
                  </div>
                  <p class="text-xs text-sf-green mt-1">100%</p>
                </div>
              </td>
              <td class="px-6 py-4">
                <span class="badge bg-sf-green text-white text-xs">Financé ✓</span>
              </td>
              <td class="px-6 py-4">
                <div class="flex items-center justify-center gap-2">
                  <button class="btn-icon-outline btn-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>
                    </svg>
                  </a>
                </div>
              </td>
            </tr>

            <tr class="hover:bg-gray-50">
              <td class="px-6 py-4">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-teal-100 flex items-center justify-center text-xl"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><path d="M9 17h6"/><circle cx="17" cy="17" r="2"/></svg></div>
                  <div>
                    <div class="font-medium text-sf-dark">Service VTC</div>
                    <div class="text-xs text-gray-600">Musharaka • Transport</div>
                  </div>
                </div>
              </td>
              <td class="px-6 py-4">
                <div class="font-bold text-sf-gold">75 000 €</div>
              </td>
              <td class="px-6 py-4">
                <div class="w-24">
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-sf-gold h-2 rounded-full" style="width: 60%"></div>
                  </div>
                  <p class="text-xs text-gray-600 mt-1">60%</p>
                </div>
              </td>
              <td class="px-6 py-4">
                <span class="badge badge-success text-xs">Actif</span>
              </td>
              <td class="px-6 py-4">
                <div class="flex items-center justify-center gap-2">
                  <button class="btn-icon-outline btn-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>
                    </svg>
                  </a>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
</div>
