<% content_for :title, "Mes Engagements - Investisseur - Sharifund" %>

<div class="max-w-7xl">
  <!-- Page Header -->
  <div class="mb-8">
    <h1 class="text-4xl font-bold text-sf-dark mb-2">Mes engagements</h1>
    <p class="text-lg text-gray-600">8 projets suivis • Total simulé: 425 000 €</p>
  </div>

  <!-- Summary Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
    <div class="card bg-gradient-to-br from-sf-gold-pale to-white p-6 rounded-lg border-2 border-sf-gold">
      <div class="text-4xl mb-3"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" x2="12" y1="2" y2="22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg></div>
      <div class="text-3xl font-bold text-sf-dark mb-1">425K€</div>
      <div class="text-sm text-gray-600">Montant total simulé</div>
      <p class="text-xs text-gray-600 mt-2">Sur 8 projets différents</p>
    </div>

    <div class="card bg-white p-6 rounded-lg border border-gray-200">
      <div class="text-4xl mb-3"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" x2="12" y1="20" y2="10"/><line x1="18" x2="18" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="16"/></svg></div>
      <div class="text-3xl font-bold text-sf-green mb-1">78%</div>
      <div class="text-sm text-gray-600">Taux moyen de financement</div>
      <p class="text-xs text-gray-600 mt-2">Vos projets performent bien</p>
    </div>

    <div class="card bg-white p-6 rounded-lg border border-gray-200">
      <div class="text-4xl mb-3"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></div>
      <div class="text-3xl font-bold text-sf-dark mb-1">1</div>
      <div class="text-sm text-gray-600">Projet financé à 100%</div>
      <p class="text-xs text-sf-green mt-2">Mode modeste: 25K€</p>
    </div>
  </div>

  <!-- Active Interests -->
  <div class="space-y-4">
    <!-- Interest 1 - Active -->
    <div class="card bg-white rounded-lg border border-gray-200 hover:shadow-lg transition-all">
      <div class="p-6">
        <div class="flex items-start gap-6">
          <div class="w-24 h-24 rounded-lg bg-gradient-to-br from-orange-200 to-orange-50 flex items-center justify-center text-4xl flex-shrink-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 2a2 2 0 0 0-2 2v5H4a2 2 0 0 0-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-5h5a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2h-2z"/></svg>
          </div>
          
          <div class="flex-1">
            <div class="flex items-start justify-between mb-3">
              <div>
                <h2 class="text-2xl font-bold text-sf-dark mb-2">Clinique dentaire moderne</h2>
                <div class="flex gap-2 mb-3">
                  <span class="badge badge-success">Actif</span>
                  <span class="badge bg-green-100 text-green-800 text-xs">Murabaha</span>
                  <span class="badge bg-red-100 text-red-800 text-xs">Santé</span>
                </div>
              </div>
            </div>

            <div class="grid grid-cols-4 gap-4 mb-4">
              <div class="text-center p-3 bg-gray-50 rounded-lg">
                <div class="text-xl font-bold text-sf-gold">50 000 €</div>
                <div class="text-xs text-gray-600 mt-1">Mon engagement</div>
              </div>
              <div class="text-center p-3 bg-blue-50 rounded-lg">
                <div class="text-xl font-bold text-sf-dark">250 000 €</div>
                <div class="text-xs text-gray-600 mt-1">Objectif total</div>
              </div>
              <div class="text-center p-3 bg-green-50 rounded-lg">
                <div class="text-xl font-bold text-sf-green">86%</div>
                <div class="text-xs text-gray-600 mt-1">Financé</div>
              </div>
              <div class="text-center p-3 bg-yellow-50 rounded-lg">
                <div class="text-xl font-bold text-sf-dark">18</div>
                <div class="text-xs text-gray-600 mt-1">Investisseurs</div>
              </div>
            </div>

            <div class="mb-4">
              <div class="w-full bg-gray-200 rounded-full h-3">
                <div class="bg-gradient-to-r from-sf-gold to-sf-gold-light h-3 rounded-full" style="width: 86%"></div>
              </div>
            </div>

            <div class="flex gap-2">
              <button class="btn-outline flex-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>
                </svg>
                Voir le projet
              </a>
              <button class="btn-outline flex-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect width="20" height="16" x="2" y="4" rx="2"/>
                  <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
                </svg>
                Contacter entrepreneur
              </a>
              <button class="btn-outline text-red-600 border-red-600">
                Retirer engagement
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Interest 2 - Fully Funded -->
    <div class="card bg-white rounded-lg border-2 border-sf-green hover:shadow-lg transition-all">
      <div class="p-6">
        <div class="flex items-start gap-6">
          <div class="w-24 h-24 rounded-lg bg-gradient-to-br from-pink-200 to-pink-50 flex items-center justify-center text-4xl flex-shrink-0 relative">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
            <div class="absolute -top-2 -right-2 w-10 h-10 rounded-full bg-sf-green flex items-center justify-center shadow-lg">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-white">
                <path d="M20 6 9 17l-5-5"/>
              </svg>
            </div>
          </div>
          
          <div class="flex-1">
            <div class="flex items-start justify-between mb-3">
              <div>
                <h2 class="text-2xl font-bold text-sf-dark mb-2">E-commerce mode modeste</h2>
                <div class="flex gap-2 mb-3">
                  <span class="badge bg-sf-green text-white">Financé à 100% ✓</span>
                  <span class="badge bg-purple-100 text-purple-800 text-xs">Mudaraba</span>
                </div>
              </div>
            </div>

            <div class="grid grid-cols-4 gap-4 mb-4">
              <div class="text-center p-3 bg-gray-50 rounded-lg">
                <div class="text-xl font-bold text-sf-gold">25 000 €</div>
                <div class="text-xs text-gray-600 mt-1">Mon engagement</div>
              </div>
              <div class="text-center p-3 bg-blue-50 rounded-lg">
                <div class="text-xl font-bold text-sf-dark">75 000 €</div>
                <div class="text-xs text-gray-600 mt-1">Objectif total</div>
              </div>
              <div class="text-center p-3 bg-green-50 rounded-lg">
                <div class="text-xl font-bold text-sf-green">100%</div>
                <div class="text-xs text-gray-600 mt-1">Financé</div>
              </div>
              <div class="text-center p-3 bg-yellow-50 rounded-lg">
                <div class="text-xl font-bold text-sf-dark">22</div>
                <div class="text-xs text-gray-600 mt-1">Investisseurs</div>
              </div>
            </div>

            <div class="p-4 bg-green-50 border border-green-200 rounded-lg mb-4">
              <div class="flex items-center gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-sf-green">
                  <path d="M20 6 9 17l-5-5"/>
                </svg>
                <div>
                  <p class="font-semibold text-green-900">Objectif de financement atteint!</p>
                  <p class="text-sm text-green-800">L'entrepreneur va prochainement vous contacter pour finaliser</p>
                </div>
              </div>
            </div>

            <div class="flex gap-2">
              <button class="btn-outline flex-1">Voir le projet</button>
              <button class="btn bg-sf-green text-white flex-1">Voir les messages</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
